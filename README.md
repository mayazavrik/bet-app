# Betting App

Приложение для работы с системой ставок, реализованное на Next.js с использованием TypeScript, Ant Design, Tailwind CSS, Redux Toolkit и React Query.

## Технологии

- **Frontend Framework**: Next.js 14
- **Язык программирования**: TypeScript
- **UI-библиотека**: Ant Design
- **Стилизация**: Tailwind CSS
- **State Management**: Redux Toolkit
- **API-взаимодействие**: React Query
- **Архитектура**: Feature Slice Design (FSD)

## Функциональность

### Аутентификация и безопасность
- Авторизация с выбором пользователя или вводом User ID
- Формирование HMAC SHA-512 подписи для запросов к API
- Защита маршрутов от неавторизованного доступа

### Управление балансом
- Отображение текущего баланса пользователя с анимацией изменения
- Установка начального баланса
- Проверка соответствия ожидаемого и фактического баланса

### Интерфейс ставок
- Получение и отображение рекомендуемой ставки от API
- Форма размещения ставки с валидацией
- История ставок с фильтрацией и сортировкой

### Результаты ставок
- Получение и отображение результата ставки
- Анимация выигрыша/проигрыша
- Статистика по выигрышам/проигрышам с визуализацией

### Пользовательский интерфейс
- Отзывчивый дизайн для мобильных и десктопных устройств
- Светлая и темная темы
- Переходы между страницами с анимацией

## Структура проекта

Проект следует архитектуре Feature Slice Design (FSD), которая предполагает разделение кода на слои и модули:

```
betting-app/
├── app/                 # Next.js App Router
├── src/
│   ├── entities/        # Бизнес-сущности (user, balance, bet)
│   ├── features/        # Функциональность приложения
│   ├── shared/          # Общие утилиты, типы, компоненты
│   └── widgets/         # Композиция компонентов и фич
```

## API

Приложение взаимодействует с API по адресу: `https://bet-provider.coolify.tgapps.cloud`

Основные эндпоинты:
- `POST /api/auth` - авторизация пользователя
- `POST /api/balance` - установка/получение баланса
- `GET /api/bet` - получение рекомендуемой ставки
- `POST /api/bet` - размещение ставки
- `POST /api/win` - получение результата ставки
- `POST /api/check-balance` - проверка корректности баланса

## Установка и запуск

1. Клонировать репозиторий:
   ```bash
   git clone https://github.com/username/betting-app.git
   cd betting-app
   ```

2. Установить зависимости:
   ```bash
   npm install
   ```

3. Запустить в режиме разработки:
   ```bash
   npm run dev
   ```

4. Сборка для продакшена:
   ```bash
   npm run build
   npm start
   ```

## Основные архитектурные решения

1. **Безопасность**:
   - Хранение учетных данных в localStorage с шифрованием
   - Генерация HMAC SHA-512 подписи для всех запросов к API

2. **Управление состоянием**:
   - Redux Toolkit для глобального состояния приложения
   - React Query для кеширования и управления запросами к API

3. **Оптимизация производительности**:
   - Минимизация ререндеров с помощью мемоизации
   - Оптимизация анимаций с использованием CSS transitions
   - Lazy loading для страниц и компонентов

4. **Пользовательский опыт**:
   - Визуальная индикация изменения баланса и результатов ставок
   - Респонсивный дизайн для всех устройств
   - Анимации для улучшения восприятия

## Планы по улучшению

- Добавление полноценной системы уведомлений
- Реализация автоматизированных тестов
- Добавление прогрессивных веб-приложений (PWA) функций
- Интеграция с аналитическими инструментами

## Автор

Разработчик с 6-летним опытом в frontend разработке.